@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 像素风格主题 - 吃豆人游戏风格 */
:root {
  --background: 240 100% 6%; /* #000033 深蓝色背景 */
  --foreground: 60 100% 100%; /* #FFFF00 黄色文字 */
  --muted: 240 50% 15%; /* 深蓝灰色 */
  --muted-foreground: 240 30% 70%; /* 浅蓝色 */
  --popover: 240 100% 8%; /* 深蓝弹窗 */
  --popover-foreground: 60 100% 100%; /* 黄色弹窗文字 */
  --card: 240 100% 4%; /* #000066 卡片背景 */
  --card-foreground: 60 100% 100%; /* 黄色卡片文字 */
  --border: 0 100% 100%; /* #FFFFFF 白色边框 */
  --input: 240 100% 8%; /* 深蓝输入框 */
  --primary: 60 100% 50%; /* #FFFF00 黄色主色 */
  --primary-foreground: 240 100% 6%; /* 深蓝主色文字 */
  --secondary: 0 100% 50%; /* #FF0000 红色副色 */
  --secondary-foreground: 60 100% 100%; /* 黄色副色文字 */
  --accent: 195 100% 50%; /* #00FFFF 青色强调 */
  --accent-foreground: 240 100% 6%; /* 深蓝强调文字 */
  --destructive: 0 100% 50%; /* #FF0000 红色破坏 */
  --destructive-foreground: 60 100% 100%; /* 黄色破坏文字 */
  --success: 120 100% 50%; /* #00FF00 绿色成功 */
  --success-foreground: 240 100% 6%; /* 深蓝成功文字 */
  --ring: 60 100% 50%; /* 黄色聚焦环 */
  --radius: 0rem; /* 像素风格无圆角 */
}

.dark {
  --background: 240 100% 6%; /* 保持像素风格 */
  --foreground: 60 100% 100%;
  --muted: 240 50% 15%;
  --muted-foreground: 240 30% 70%;
  --popover: 240 100% 8%;
  --popover-foreground: 60 100% 100%;
  --card: 240 100% 4%;
  --card-foreground: 60 100% 100%;
  --border: 0 100% 100%;
  --input: 240 100% 8%;
  --primary: 60 100% 50%;
  --primary-foreground: 240 100% 6%;
  --secondary: 0 100% 50%;
  --secondary-foreground: 60 100% 100%;
  --accent: 195 100% 50%;
  --accent-foreground: 240 100% 6%;
  --destructive: 0 100% 50%;
  --destructive-foreground: 60 100% 100%;
  --ring: 60 100% 50%;
  --radius: 0rem;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Press Start 2P', monospace;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }
}

@layer utilities {
  /* 像素风格基础类 */
  .pixel-font {
    font-family: 'Press Start 2P', monospace;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }
  
  .pixel-border {
    border-width: 3px;
    border-style: solid;
    border-radius: 0;
  }
  
  .pixel-shadow {
    box-shadow: 6px 6px 0px hsl(var(--border));
  }
  
  /* 拖拽效果 - 像素风格 */
  .drag-over {
    @apply border-primary bg-primary/20 pixel-border;
    animation: pixelPulse 0.5s infinite alternate;
  }
  
  /* 连接状态脉冲 */
  .connection-pulse {
    animation: pixelPulse 1s infinite alternate;
  }
  
  /* 淡入效果 - 像素风格 */
  .fade-in {
    animation: pixelFadeIn 0.3s steps(3, end);
  }
  
  /* 像素按钮效果 */
  .pixel-button {
    @apply pixel-border pixel-shadow;
    transition: all 0.1s steps(2, end);
  }
  
  .pixel-button:hover {
    transform: translate(2px, 2px);
    box-shadow: 3px 3px 0px hsl(var(--border));
  }
  
  .pixel-button:active {
    transform: translate(6px, 6px);
    box-shadow: none;
  }
  
  /* 吃豆人风格移动动画 */
  .pacman-move {
    animation: pacmanMove 2s linear infinite;
  }
  
  /* 像素闪烁效果 */
  .pixel-blink {
    animation: pixelBlink 1s steps(2, start) infinite;
  }
}

/* 像素风格动画关键帧 */
@keyframes pixelFadeIn {
  0% { 
    opacity: 0; 
    transform: scale(0.8);
  }
  50% { 
    opacity: 0.5; 
    transform: scale(0.9);
  }
  100% { 
    opacity: 1; 
    transform: scale(1);
  }
}

@keyframes pixelPulse {
  0% { 
    transform: scale(1);
    filter: brightness(1);
  }
  100% { 
    transform: scale(1.05);
    filter: brightness(1.2);
  }
}

@keyframes pixelBlink {
  0%, 50% { 
    opacity: 1; 
  }
  51%, 100% { 
    opacity: 0.3; 
  }
}

@keyframes pacmanMove {
  0% { 
    transform: translateX(-100%) rotate(0deg);
  }
  25% { 
    transform: translateX(-50%) rotate(90deg);
  }
  50% { 
    transform: translateX(0%) rotate(180deg);
  }
  75% { 
    transform: translateX(50%) rotate(270deg);
  }
  100% { 
    transform: translateX(100%) rotate(360deg);
  }
}

@keyframes slide-right {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(200%);
  }
}

.animate-slide-right {
  animation: slide-right 2s infinite;
}

/* 像素风格进度条动画 */
@keyframes pixelProgress {
  0% { 
    background-position: 0 0; 
  }
  100% { 
    background-position: 24px 0; 
  }
}
